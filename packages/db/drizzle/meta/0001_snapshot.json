{
  "id": "9bd44c6c-0cf2-4c76-b9ac-fcbf56b59520",
  "prevId": "2223baa8-c69b-408e-8348-8097dcf6aec2",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.user": {
      "name": "user",
      "schema": "",
      "columns": {
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "email": {
          "name": "email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "password_hash": {
          "name": "password_hash",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "display_name": {
          "name": "display_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "last_active_at": {
          "name": "last_active_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "user_email_unique": {
          "name": "user_email_unique",
          "nullsNotDistinct": false,
          "columns": [
            "email"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user_progress": {
      "name": "user_progress",
      "schema": "",
      "columns": {
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "exercise_format": {
          "name": "exercise_format",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        },
        "wine_color": {
          "name": "wine_color",
          "type": "varchar(16)",
          "primaryKey": false,
          "notNull": true
        },
        "total_attempts": {
          "name": "total_attempts",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "correct_attempts": {
          "name": "correct_attempts",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "accuracy": {
          "name": "accuracy",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "avg_response_time_ms": {
          "name": "avg_response_time_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "mastery_state": {
          "name": "mastery_state",
          "type": "mastery_state",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'locked'"
        },
        "last_attempted_at": {
          "name": "last_attempted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "user_progress_user_id_user_user_id_fk": {
          "name": "user_progress_user_id_user_user_id_fk",
          "tableFrom": "user_progress",
          "tableTo": "user",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "user_progress_user_id_exercise_format_wine_color_pk": {
          "name": "user_progress_user_id_exercise_format_wine_color_pk",
          "columns": [
            "user_id",
            "exercise_format",
            "wine_color"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.grape_variety": {
      "name": "grape_variety",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(64)",
          "primaryKey": true,
          "notNull": true
        },
        "display_name": {
          "name": "display_name",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": true
        },
        "color": {
          "name": "color",
          "type": "grape_color",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ordinal_scale": {
      "name": "ordinal_scale",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(64)",
          "primaryKey": true,
          "notNull": true
        },
        "display_name": {
          "name": "display_name",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": true
        },
        "labels": {
          "name": "labels",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.region": {
      "name": "region",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(64)",
          "primaryKey": true,
          "notNull": true
        },
        "display_name": {
          "name": "display_name",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": true
        },
        "region_level": {
          "name": "region_level",
          "type": "region_level",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "parent_id": {
          "name": "parent_id",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "region_parent_id_fkey": {
          "name": "region_parent_id_fkey",
          "tableFrom": "region",
          "tableTo": "region",
          "columnsFrom": [
            "parent_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.wine_style": {
      "name": "wine_style",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(64)",
          "primaryKey": true,
          "notNull": true
        },
        "display_name": {
          "name": "display_name",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": true
        },
        "style_type": {
          "name": "style_type",
          "type": "style_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "produced_color": {
          "name": "produced_color",
          "type": "produced_color",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "wine_category": {
          "name": "wine_category",
          "type": "wine_category",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'still'"
        },
        "region_id": {
          "name": "region_id",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "climate_min": {
          "name": "climate_min",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "climate_max": {
          "name": "climate_max",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "climate_ordinal_scale_id": {
          "name": "climate_ordinal_scale_id",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "wine_style_region_id_region_id_fk": {
          "name": "wine_style_region_id_region_id_fk",
          "tableFrom": "wine_style",
          "tableTo": "region",
          "columnsFrom": [
            "region_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "wine_style_climate_ordinal_scale_id_ordinal_scale_id_fk": {
          "name": "wine_style_climate_ordinal_scale_id_ordinal_scale_id_fk",
          "tableFrom": "wine_style",
          "tableTo": "ordinal_scale",
          "columnsFrom": [
            "climate_ordinal_scale_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.wine_style_grape": {
      "name": "wine_style_grape",
      "schema": "",
      "columns": {
        "wine_style_id": {
          "name": "wine_style_id",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        },
        "grape_variety_id": {
          "name": "grape_variety_id",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        },
        "percentage": {
          "name": "percentage",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "wine_style_grape_wine_style_id_wine_style_id_fk": {
          "name": "wine_style_grape_wine_style_id_wine_style_id_fk",
          "tableFrom": "wine_style_grape",
          "tableTo": "wine_style",
          "columnsFrom": [
            "wine_style_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "wine_style_grape_grape_variety_id_grape_variety_id_fk": {
          "name": "wine_style_grape_grape_variety_id_grape_variety_id_fk",
          "tableFrom": "wine_style_grape",
          "tableTo": "grape_variety",
          "columnsFrom": [
            "grape_variety_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "wine_style_grape_wine_style_id_grape_variety_id_pk": {
          "name": "wine_style_grape_wine_style_id_grape_variety_id_pk",
          "columns": [
            "wine_style_id",
            "grape_variety_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.appearance_dimension": {
      "name": "appearance_dimension",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(64)",
          "primaryKey": true,
          "notNull": true
        },
        "display_name": {
          "name": "display_name",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": true
        },
        "produced_color": {
          "name": "produced_color",
          "type": "produced_color",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "ordinal_scale_id": {
          "name": "ordinal_scale_id",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "appearance_dimension_ordinal_scale_id_ordinal_scale_id_fk": {
          "name": "appearance_dimension_ordinal_scale_id_ordinal_scale_id_fk",
          "tableFrom": "appearance_dimension",
          "tableTo": "ordinal_scale",
          "columnsFrom": [
            "ordinal_scale_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.structure_dimension": {
      "name": "structure_dimension",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(64)",
          "primaryKey": true,
          "notNull": true
        },
        "display_name": {
          "name": "display_name",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": true
        },
        "ordinal_scale_id": {
          "name": "ordinal_scale_id",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "structure_dimension_ordinal_scale_id_ordinal_scale_id_fk": {
          "name": "structure_dimension_ordinal_scale_id_ordinal_scale_id_fk",
          "tableFrom": "structure_dimension",
          "tableTo": "ordinal_scale",
          "columnsFrom": [
            "ordinal_scale_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.wine_style_appearance": {
      "name": "wine_style_appearance",
      "schema": "",
      "columns": {
        "wine_style_id": {
          "name": "wine_style_id",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        },
        "appearance_dimension_id": {
          "name": "appearance_dimension_id",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        },
        "min_value": {
          "name": "min_value",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "max_value": {
          "name": "max_value",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "wine_style_appearance_wine_style_id_wine_style_id_fk": {
          "name": "wine_style_appearance_wine_style_id_wine_style_id_fk",
          "tableFrom": "wine_style_appearance",
          "tableTo": "wine_style",
          "columnsFrom": [
            "wine_style_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "wine_style_appearance_appearance_dimension_id_appearance_dimension_id_fk": {
          "name": "wine_style_appearance_appearance_dimension_id_appearance_dimension_id_fk",
          "tableFrom": "wine_style_appearance",
          "tableTo": "appearance_dimension",
          "columnsFrom": [
            "appearance_dimension_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "wine_style_appearance_wine_style_id_appearance_dimension_id_pk": {
          "name": "wine_style_appearance_wine_style_id_appearance_dimension_id_pk",
          "columns": [
            "wine_style_id",
            "appearance_dimension_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.wine_style_structure": {
      "name": "wine_style_structure",
      "schema": "",
      "columns": {
        "wine_style_id": {
          "name": "wine_style_id",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        },
        "structure_dimension_id": {
          "name": "structure_dimension_id",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        },
        "min_value": {
          "name": "min_value",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "max_value": {
          "name": "max_value",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "wine_style_structure_wine_style_id_wine_style_id_fk": {
          "name": "wine_style_structure_wine_style_id_wine_style_id_fk",
          "tableFrom": "wine_style_structure",
          "tableTo": "wine_style",
          "columnsFrom": [
            "wine_style_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "wine_style_structure_structure_dimension_id_structure_dimension_id_fk": {
          "name": "wine_style_structure_structure_dimension_id_structure_dimension_id_fk",
          "tableFrom": "wine_style_structure",
          "tableTo": "structure_dimension",
          "columnsFrom": [
            "structure_dimension_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "wine_style_structure_wine_style_id_structure_dimension_id_pk": {
          "name": "wine_style_structure_wine_style_id_structure_dimension_id_pk",
          "columns": [
            "wine_style_id",
            "structure_dimension_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.aroma_cluster": {
      "name": "aroma_cluster",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(64)",
          "primaryKey": true,
          "notNull": true
        },
        "display_name": {
          "name": "display_name",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": true
        },
        "aroma_source_id": {
          "name": "aroma_source_id",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "aroma_cluster_aroma_source_id_aroma_source_id_fk": {
          "name": "aroma_cluster_aroma_source_id_aroma_source_id_fk",
          "tableFrom": "aroma_cluster",
          "tableTo": "aroma_source",
          "columnsFrom": [
            "aroma_source_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.aroma_descriptor": {
      "name": "aroma_descriptor",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(64)",
          "primaryKey": true,
          "notNull": true
        },
        "display_name": {
          "name": "display_name",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": true
        },
        "aroma_cluster_id": {
          "name": "aroma_cluster_id",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "aroma_descriptor_aroma_cluster_id_aroma_cluster_id_fk": {
          "name": "aroma_descriptor_aroma_cluster_id_aroma_cluster_id_fk",
          "tableFrom": "aroma_descriptor",
          "tableTo": "aroma_cluster",
          "columnsFrom": [
            "aroma_cluster_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.aroma_source": {
      "name": "aroma_source",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(64)",
          "primaryKey": true,
          "notNull": true
        },
        "display_name": {
          "name": "display_name",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.wine_style_aroma_cluster": {
      "name": "wine_style_aroma_cluster",
      "schema": "",
      "columns": {
        "wine_style_id": {
          "name": "wine_style_id",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        },
        "aroma_cluster_id": {
          "name": "aroma_cluster_id",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        },
        "intensity_min": {
          "name": "intensity_min",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "intensity_max": {
          "name": "intensity_max",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "wine_style_aroma_cluster_wine_style_id_wine_style_id_fk": {
          "name": "wine_style_aroma_cluster_wine_style_id_wine_style_id_fk",
          "tableFrom": "wine_style_aroma_cluster",
          "tableTo": "wine_style",
          "columnsFrom": [
            "wine_style_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "wine_style_aroma_cluster_aroma_cluster_id_aroma_cluster_id_fk": {
          "name": "wine_style_aroma_cluster_aroma_cluster_id_aroma_cluster_id_fk",
          "tableFrom": "wine_style_aroma_cluster",
          "tableTo": "aroma_cluster",
          "columnsFrom": [
            "aroma_cluster_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "wine_style_aroma_cluster_wine_style_id_aroma_cluster_id_pk": {
          "name": "wine_style_aroma_cluster_wine_style_id_aroma_cluster_id_pk",
          "columns": [
            "wine_style_id",
            "aroma_cluster_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.wine_style_aroma_descriptor": {
      "name": "wine_style_aroma_descriptor",
      "schema": "",
      "columns": {
        "wine_style_id": {
          "name": "wine_style_id",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        },
        "aroma_descriptor_id": {
          "name": "aroma_descriptor_id",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        },
        "salience": {
          "name": "salience",
          "type": "descriptor_salience",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "wine_style_aroma_descriptor_wine_style_id_wine_style_id_fk": {
          "name": "wine_style_aroma_descriptor_wine_style_id_wine_style_id_fk",
          "tableFrom": "wine_style_aroma_descriptor",
          "tableTo": "wine_style",
          "columnsFrom": [
            "wine_style_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "wine_style_aroma_descriptor_aroma_descriptor_id_aroma_descriptor_id_fk": {
          "name": "wine_style_aroma_descriptor_aroma_descriptor_id_aroma_descriptor_id_fk",
          "tableFrom": "wine_style_aroma_descriptor",
          "tableTo": "aroma_descriptor",
          "columnsFrom": [
            "aroma_descriptor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "wine_style_aroma_descriptor_wine_style_id_aroma_descriptor_id_pk": {
          "name": "wine_style_aroma_descriptor_wine_style_id_aroma_descriptor_id_pk",
          "columns": [
            "wine_style_id",
            "aroma_descriptor_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.exercise_instance": {
      "name": "exercise_instance",
      "schema": "",
      "columns": {
        "exercise_instance_id": {
          "name": "exercise_instance_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "occurred_at": {
          "name": "occurred_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "exercise_template_id": {
          "name": "exercise_template_id",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        },
        "seed": {
          "name": "seed",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "payload": {
          "name": "payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "user_answer": {
          "name": "user_answer",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "is_correct": {
          "name": "is_correct",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true
        },
        "score": {
          "name": "score",
          "type": "real",
          "primaryKey": false,
          "notNull": true
        },
        "response_time_ms": {
          "name": "response_time_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "bottle_id": {
          "name": "bottle_id",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "exercise_instance_user_id_user_user_id_fk": {
          "name": "exercise_instance_user_id_user_user_id_fk",
          "tableFrom": "exercise_instance",
          "tableTo": "user",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "exercise_instance_exercise_template_id_exercise_template_exercise_template_id_fk": {
          "name": "exercise_instance_exercise_template_id_exercise_template_exercise_template_id_fk",
          "tableFrom": "exercise_instance",
          "tableTo": "exercise_template",
          "columnsFrom": [
            "exercise_template_id"
          ],
          "columnsTo": [
            "exercise_template_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.exercise_template": {
      "name": "exercise_template",
      "schema": "",
      "columns": {
        "exercise_template_id": {
          "name": "exercise_template_id",
          "type": "varchar(64)",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "level": {
          "name": "level",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "wine_color": {
          "name": "wine_color",
          "type": "varchar(16)",
          "primaryKey": false,
          "notNull": true
        },
        "format": {
          "name": "format",
          "type": "exercise_format",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "prompt_stem": {
          "name": "prompt_stem",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "tested_attribute_ids": {
          "name": "tested_attribute_ids",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "selection_rules": {
          "name": "selection_rules",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "correctness_rules": {
          "name": "correctness_rules",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "ambiguity_guardrails": {
          "name": "ambiguity_guardrails",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "feedback_template": {
          "name": "feedback_template",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "difficulty": {
          "name": "difficulty",
          "type": "difficulty",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "time_limit_ms": {
          "name": "time_limit_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.country_map_config": {
      "name": "country_map_config",
      "schema": "",
      "columns": {
        "country_name": {
          "name": "country_name",
          "type": "varchar(64)",
          "primaryKey": true,
          "notNull": true
        },
        "iso_numeric": {
          "name": "iso_numeric",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "geo_slug": {
          "name": "geo_slug",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        },
        "natural_earth_admin_name": {
          "name": "natural_earth_admin_name",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": true
        },
        "zoom_center_lon": {
          "name": "zoom_center_lon",
          "type": "real",
          "primaryKey": false,
          "notNull": true
        },
        "zoom_center_lat": {
          "name": "zoom_center_lat",
          "type": "real",
          "primaryKey": false,
          "notNull": true
        },
        "zoom_level": {
          "name": "zoom_level",
          "type": "real",
          "primaryKey": false,
          "notNull": true
        },
        "is_mappable": {
          "name": "is_mappable",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.region_boundary_mapping": {
      "name": "region_boundary_mapping",
      "schema": "",
      "columns": {
        "region_id": {
          "name": "region_id",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        },
        "feature_name": {
          "name": "feature_name",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "region_boundary_mapping_region_id_region_id_fk": {
          "name": "region_boundary_mapping_region_id_region_id_fk",
          "tableFrom": "region_boundary_mapping",
          "tableTo": "region",
          "columnsFrom": [
            "region_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "region_boundary_mapping_region_id_feature_name_pk": {
          "name": "region_boundary_mapping_region_id_feature_name_pk",
          "columns": [
            "region_id",
            "feature_name"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.descriptor_salience": {
      "name": "descriptor_salience",
      "schema": "public",
      "values": [
        "dominant",
        "supporting",
        "occasional"
      ]
    },
    "public.difficulty": {
      "name": "difficulty",
      "schema": "public",
      "values": [
        "easy",
        "medium",
        "hard",
        "expert"
      ]
    },
    "public.exercise_format": {
      "name": "exercise_format",
      "schema": "public",
      "values": [
        "map_place",
        "map_recall",
        "order_rank",
        "descriptor_match",
        "structure_deduction",
        "elimination",
        "skeleton_deduction",
        "tasting_input"
      ]
    },
    "public.grape_color": {
      "name": "grape_color",
      "schema": "public",
      "values": [
        "red",
        "white"
      ]
    },
    "public.mastery_state": {
      "name": "mastery_state",
      "schema": "public",
      "values": [
        "locked",
        "in_progress",
        "mastered"
      ]
    },
    "public.produced_color": {
      "name": "produced_color",
      "schema": "public",
      "values": [
        "red",
        "white",
        "rose"
      ]
    },
    "public.region_level": {
      "name": "region_level",
      "schema": "public",
      "values": [
        "country",
        "region",
        "sub_region",
        "appellation",
        "vineyard"
      ]
    },
    "public.style_type": {
      "name": "style_type",
      "schema": "public",
      "values": [
        "global_archetype",
        "regional_archetype",
        "appellation_archetype",
        "specific_bottle"
      ]
    },
    "public.wine_category": {
      "name": "wine_category",
      "schema": "public",
      "values": [
        "still",
        "sparkling",
        "fortified"
      ]
    },
    "public.wine_color": {
      "name": "wine_color",
      "schema": "public",
      "values": [
        "red",
        "white"
      ]
    }
  },
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}